\chapter{Modelagem e levantamento de dados}
O presente capítulo dispõe-se de especificar os dados e revelar as modelagens e os diagramas construídos para fins de instrução de quem o usufruir como é mostrado nos \autoref{quadro-rf} e \autoref{quadro-rnf} onde estão localizados os requisitos para uso do PETINDER, e também no desenvolvimento da arquitetura do \textit{website}, que é apresentado nas \autoref{mer} e \autoref{der} respectivamente. Sendo assim, foi detalhado nas seções todos os modelos e diagramas que criamos, e a descrição dos mesmos.
% Falar do uso do modelo MVC e aplicacao no projeto (incluir modelo de classes, modelo do banco

\section{Análise de Requisitos}
A Engenharia de Requisitos tem como, uma de suas funções, determinar funcionalidades e restrições de desenvolvimento que o sistema exige. Sua importância no desenvolvimento do sistema se dá pois, erros nesse processo geram, de forma de inevitável, contratempos futuros em seu projeto e execução \cite{analise}.

%-----REQUISITOS FUNCIONAIS-----
Os requisitos funcionais dizem como o sistema deve agir com alumas ocasiões e sinais que venham a ocorrer \cite{analise}. De forma geral, um requisito funcional expressa uma ação que deve ser realizada através do sistema, ou seja, um requisito funcional é “o que sistema DEVE fazer”.  No \autoref{quadro-rf} estão os requisitos funcionais da aplicação PETINDER.

\begin{quadro}[htb]
\centering
\caption[Requisitos funcionais]{Requisitos funcionais}
\label{quadro-rf}
\begin{tabular}{|p{1.6cm}|p{10.2cm}|p{2.2cm}|}

\hline     
\thead{Código} & \thead{Descrição} & Requisito Relacionado\\ 
\hline                               
RF01 & O sistema deve permitir o cadastro de usuários que pretendem adotar e/ou doar cães e gatos. & \\
\hline     
RF02 & O sistema deve permitir o cadastro de animais.& \\
\hline     
RF03 & O sistema deve permitir um controle de informações dos animais cadastrados para um tutor. & RF02\\
\hline     
RF04 & O sistema deve apresentar a quantidade de animais cadastrados pelo tutor em sua conta. & RF02\\
\hline 
RF05 & O sistema deve permitir que um adotante demonstre interesse em um animal por meio do \gls{Miau-dorei}. & \\
\hline 
RF06 & O sistema deve apresentar as informações dos adotantes interessados pelos animais aos seus doadores. & \\
\hline 
RF07 & O sistema deve permitir que doador demonstre interesse no adotante por meio do \gls{Miau-dorei}. & \\
\hline 
RF08 & Quando o \gls{Miau-dorei} é mútuo entre doador e adotante o sistema deve notificar o \gls{Match}. & RF05\\
\hline 
RF09 & O sistema deve permitir a interação entre doador e adotante através do \textit{chat} após o \gls{Match}. & \\
\hline 
RF10 & Os adotantes que demonstrarem interesse em um animal com \textit{status} “em processo de adoção” serão direcionados a uma fila de espera para caso a adoção anterior não seja concluída. & RF08\\
\hline     
\end{tabular}
\fonte{Elaborada pelos autores}
\end{quadro}


%-----REQUISITOS NAO FUNCIONAIS-----
Os requisitos não funcionais dizem sobre particularidades do \textit{software} no geral, padrões que limitam os requisitos funcionais e se aplicam a todo sistema. Abrangem requisitos de qualidade, requisitos de implementação e entrega até mesmo restrições a funcionalidades ou serviços que o sistema ofereça \cite{analise}. No \autoref{quadro-rnf} estão os requisitos não funcionais da aplicação PETINDER.

\begin{quadro}[htb]
\centering
\ABNTEXfontereduzida
\caption[Requisitos não funcionais]{Requisitos não funcionais}
\label{quadro-rnf}
\begin{tabular}{|p{1.6cm}|p{12.4cm}|}

\hline     
\thead{Código} & \thead{Descrição}  \\ 
\hline                               
RNF01 & Para utilizar o sistema o usuário precisa estar conectado à internet\\
\hline     
RNF02 & Bcrypt será utilizado para segurança de senhas inseridas no sistema.\\
\hline     
RNF03 & O sistema deverá ter interligação com o banco de dados PostgreSQL. \\
\hline     
RNF04 & O sistema deverá ser desenvolvido para \textit{website}.\\
\hline     
\end{tabular}
\fonte{Elaborada pelos autores}
\end{quadro}

%---------REGRAS DE NEGOCIO----------
Regras de negócio servem para definir ou restringir alguma ação nos processos de uma empresa e/ou projeto. São declarações que irão descrever como determinadas operações devem ser realizadas e se há algum limite que precisa ser aplicado. São elas que guiarão comportamentos e definirão o que, onde, quando, porque e como algo deve ser feito em uma empresa. No \autoref{quadro-rn} estão as regras de negócio da aplicação PETINDER \cite{regras}.

\begin{quadro}[!htbp]
\centering
\ABNTEXfontereduzida
\caption[Regras de negócio]{Regras de negócio}
\label{quadro-rn}
\begin{tabular}{|p{1.6cm}|p{12.4cm}|}

\hline     
\thead{Código} & \thead{Descrição} \\ 
\hline                               
RN01 & Os animais cadastrados no sistema devem ser exclusivamente para adoção.\\
\hline     
RN02 & Os animais cadastrados deverão ser apenas gatos e cachorros.\\
\hline     
RN03 & Os usuários podem atuar como adotantes e/ou doadores de animais no  sistema. \\
\hline     
RN04 & O \textit{chat} do sistema deve ser usado para seus devidos fins de adoção de animais. O PETINDER contará com um sistema de denúncias para os usuários.\\
\hline     
RN05 & Denúncias avaliadas pelos administradores do sistema como verdadeiras geram uma infração para o perfil denunciado.\\
\hline     
RN06 & Caso um mesmo usuário cometa três infrações ele será banido temporariamente do sistema, se uma mesma conta for banida três vezes, ela será excluída permanentemente.\\
\hline     
RN07 & Os administradores do sistema não se responsabilizam por problemas relacionados à utilização de nossas ferramentas.\\
\hline     
RN08 & Os administradores do sistema não se responsabilizam pela saúde e/ou cuidados com os animais cadastrados.\\
\hline     
RN09 & Qualquer usuário pode ver a listagem de animais cadastrados no sistema.\\
\hline     
RN10 & Quando um usuário adota um animal ele adquire tutoria dos dados de cadastro do animal.\\
\hline     
RN11 & O usuário tem a opção de desfazer um \gls{Des-au-gostei}.\\
\hline     
RN12 & Caso um usuário não-logado tente interagir com as funções de adoção e/ou doação ele será redirecionado a tela de \textit{login}.\\
\hline     
\end{tabular}
\fonte{Elaborada pelos autores}
\end{quadro}

\clearpage
%---------------------------------------------
\section{Casos de uso}
% Descricao e diagrama
O diagrama de casos de uso serve para facilitar o entendimento do desenvolvedor com descrições do sistema, que formam uma sequência de interações entre o sistema e o(s) ator(es). De certa forma, é  um modo formal de descrever todas as interações a fim de atingir os objetivos de negócio do sistema \cite{caso}.

\begin{figure}[!htbp]
    \centering
    \caption{\label{diagrama-casos}Diagrama de Casos de Uso do Sistema}
    \includegraphics[scale=0.4,angle=90]{imagens/CasosDeUsoPETINDER.jpeg}
	\fonte{Elaborada pelos autores}
\end{figure}

\section{Tecnologias utilizadas}
As tecnologias definitivas utilizadas pela equipe no projeto foram apresentadas na \ac{POC}, assim como mostra o \autoref{provaconceitual-pdfpages}.  

\subsection{Para a aplicação}
\begin{itemize}
    \item \ac{HTML}: é uma linguagem de marcação de hipertexto para apresentar e estruturar o conteúdo na \textit{web} \cite{html}.
    
    \item \ac{CSS}: \textit{Cascading Style Sheets} ou Folha de Estilo em Cascata é uma linguagem utilizada para implementação de estilos - cor, fonte, espaçamento- em páginas \textit{web} \cite{css}.
    
    \item JavaScript: é uma linguagem de programação criada em 1995 por Brendan Eich enquanto trabalhava na Netscape Communications Corporation \cite{jsum}. É uma linguagem de programação de alta complexidade, mas de fácil uso, voltada para criar elementos em aplicações \textit{web}, como sites, aplicativos e sistemas \textit{online} \cite{jsdois}. 
    Durante o desenvolvimento foi utilizada uma \ac{API} da tecnologia, denominada "GeoLocation", a qual possibilita acessar a localização do usuário em tempo real.
    
    \item Bootstrap 5: Uma estrutura para a criação de sites responsivos para dispositivos móveis. Kit de ferramentas de \textit{front-end} de código aberto com variáveis e \textit{mixins Sass}, sistema de grade responsivo, um grande número de componentes pré-construídos e \textit{plug-ins} de JavaScript poderosos \cite{bootstrap}.
    
    \item \ac{PHP} é uma linguagem de programação utilizada por programadores e desenvolvedores para construir sites dinâmicos, extensões de integração de aplicações e agilizar no desenvolvimento de um sistema \cite{php}.
    
    \item CodeIgniter: esse \textit{framework} de desenvolvimento de aplicações, se compararmos com outros, disponibiliza um conjunto de classes que podem ser combinados e estendidos para que aplicações sejam construídas, nos poupando um considerável tempo de codificação \cite{codeigniter}.
    Durante o desenvolvimento foram utilizadas bibliotecas do \textit{framework}, como a de validação de formulários e a de \textit{upload} de imagens. Além disso, também foram utilizadas as bibliotecas de testes unitários disponível no \gls{CodeIgniter} para realizar os testes automatizados da aplicação, e a de \gls{Log} para registrar em arquivo restrito aos desenvolvedores os erros do lado do servidor na aplicação.
    
    \item Visual Studio Code: é um editor de código-fonte leve desenvolvido pela Microsoft. Possui as funcionalidades mais simples como: edição de código com suporte a várias linguagens de programação, terminal de comandos integrado e controle de versão \cite{vscode}.
    
    \item PostgreSQL: é um \ac{SGBDOR}, desenvolvido como projeto \textit{software} livre, é de código e conta com recursos como: consultas complexas, chaves estrangeiras, integridade transacional, controle de concorrência multi-versão, suporte ao modelo híbrido objeto-relacional, \textit{trigger}, \textit{views} e \textit{stored procedures} em várias linguagens \cite{postgresql}.
    
    \item PostGIS: é uma extensão geoespacial para o \ac{SGBDOR} \gls{PostgreSQL}. Este módulo é uma robusta solução para o suporte ao armazenamento, gerenciamento, tratamento e análise de dados espaciais \cite{postgis}.
    
    \item Leaflet: é uma biblioteca JavaScript de código aberto para mapas interativos compatíveis com dispositivos móveis. Pesando apenas cerca de 39 KB de JS, ela tem todos os recursos de mapeamento que a maioria dos desenvolvedores precisa \cite{mapa}.
    
    \item Azure: é uma plataforma da Microsoft formada por uma série de ferramentas diferentes que libera o acesso a empresas e desenvolvedores, a capacidades de processamento e armazenamento dos \textit{datacenters} da Microsoft. O projeto PETINDER foi hospedado na plataforma Azure. O \ac{IFSP} disponibiliza aos alunos um convênio para assinatura estudantil que fornece créditos que podem ser utilizados na plataforma. A equipe optou por esse serviço de hospedagem pelos seguintes fatores: certificado \ac{SSL} com nota A (\autoref{teste-ssl} e o acesso ao bando de dados \gls{PostgreSQL} e sua extensão geoespacial \gls{PostGIS} \cite{azure}.
    
    \item SendGrid: é uma \ac{API} de envio de \gls{E-mail} por meio do protocolo \ac{SMTP} integrada ao PETINDER juntamente com a plataforma de hospedagem Azure.
    
\end{itemize}

\subsection{Requisitadas pela disciplina}
\begin{itemize}
    \item Subversion: é uma ferramenta de controle e versionamento. A equipe utilizou para compartilhar as versões mais recentes da aplicação e da documentação.

    \item \LaTeX:  é um sistema ou programa de marcação para a editoração de documentos de alta qualidade tipográfica, específico para a elaboração de textos científicos. Trata-se de um conjunto de macros ou marcações para o processador de textos TeX \cite{latex}.
    
    \item YouTube: o site surgiu em virtude do inconveniente que era compartilhar arquivos de vídeo, já que estes eram muito grandes, o que dificultava seu envio por e-mail. O site permite que os usuários coloquem seus próprios vídeos na rede, sendo visualizados por qualquer pessoa no mundo inteiro \cite{youtube}. A equipe utilizou desta tecnologia para publicar os vídeos solicitados pela disciplina.
    
    \item Blogger: é a plataforma gratuita de \textit{blogs} do Google. Além de ser fácil de navegar e administrar, oferece a hospedagem e diversos recursos que permitem ao usuário criar seu \textit{blogs} e personalizá-lo, de acordo com suas necessidades \cite{blogger}. A equipe utilizou desta tecnologia para publicar relatórios semanais  solicitados pela disciplina.
    
\end{itemize}

%---------------------------------------------
\section{Infraestrutura do banco de dados}

A coleção de dados que não sejam com características de curta duração e só podem ser removidos por alguma solicitação externa explícita; e atributos ou itens que descrevem entidades do mundo real (como pessoas, coisas ou eventos) são organizados em registros, que por sua vez constituem arquivos. Quando esses itens são usados ​​em programas ou aplicativos em uma determinada área da empresa, os chamamos de bancos de dados \cite{bdd}.

Sabe-se que cada banco de dados, no entanto, possui sua estrutura e particularidade, dessa forma é pertinente que falemos dos meios que são usados para guiar tais estruturas. A começar pelo \ac{MER}, tal modelo analisa determinados acontecimentos na vida real, coleta e realiza um conjunto de elementos básicos organizados em entidades e relacionamentos, a partir desse modelo é possível ter uma pequena noção da estrutura.

Outrossim, faz-se necessário mencionarmos o \ac{DER}. De forma geral ele é o resultado do que tivemos do \ac{MER}, é menos abstrato e uma maneira de facilitar a visualização do conceito que se tem no \ac{MER}, logo, com ambos os meios pode-se ter uma ideia geral do caminho da estrutura mais completa, na qual o modelo nos traz o conceito do banco de dados e o diagrama nos ajuda a ter uma visão de tal conceito de forma mais organizada e ajustada.

\begin{sidewaysfigure}[htb]
    \centering
	\caption{\label{mer}Modelo Entidade-Relacionamento}
	\includegraphics[width=0.9\textwidth]{imagens/MODELOLOGICO.png}
	\fonte{Elaborado pelos autores}
\end{sidewaysfigure}

\begin{sidewaysfigure}[htb]
    \centering
	\caption{\label{der}Diagrama Entidade-Relacionamento}
	\includegraphics[width=0.9\textwidth]{imagens/MODELOCONCEITUAL.png}
	\fonte{Elaborado pelos autores}
\end{sidewaysfigure}

\input{desenvolvimento/texto-desenvolvimento}